<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>X TRADER ‚Äî Segnali Live</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0f14; --panel:#111821; --muted:#0f151d; --text:#e7f7ff; --sub:#9fb8c7;
      --accent:#00ffae; --accent-dim:#00d294; --danger:#ff4d6d; --ok:#3ddc97; --warn:#ffd166;
      --shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.02);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(1200px 700px at 20% -10%, rgba(0,255,174,.12), transparent 60%),
                  radial-gradient(900px 600px at 120% 110%, rgba(0,214,148,.12), transparent 60%),
                  var(--bg);
      color:var(--text);
      overflow-x:hidden;
    }
    a{color:var(--accent)}
    .wrap{max-width:1200px; margin:0 auto; padding:20px 16px 96px}

    /* header */
    header{
      display:grid; grid-template-columns:1fr auto; gap:16px; align-items:center; margin-bottom:18px;
    }
    .brand{display:flex; align-items:center; gap:14px}
    .logo{width:44px; height:44px; border-radius:12px; background:linear-gradient(135deg,#033,#0b4);
      box-shadow:0 0 24px rgba(0,255,174,.25), inset 0 0 0 2px rgba(0,255,174,.35);
      display:grid; place-items:center; font-weight:900; letter-spacing:.5px}
    .logo span{color:#031; text-shadow:0 0 12px rgba(0,255,174,.55); filter:drop-shadow(0 0 6px rgba(0,255,174,.55));}
    .title{font-weight:800; font-size:1.2rem; letter-spacing:.5px}
    .subtitle{color:var(--sub); font-size:.9rem}
    .ad-728{width:728px; max-width:100%; height:90px; border-radius:14px; background:linear-gradient(180deg,var(--muted),#0b1118);
      display:grid; place-items:center; box-shadow:var(--shadow); border:1px dashed rgba(0,255,174,.25);}
    .ad-728 small{color:#71fcd3}

    /* grid */
    .grid{display:grid; grid-template-columns: 2fr 1.2fr 1.2fr; gap:16px}
    @media (max-width: 1024px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg,rgba(255,255,255,.015),rgba(0,0,0,.15));
      border-radius:var(--radius); box-shadow:var(--shadow); border:1px solid rgba(255,255,255,.04);
      padding:16px}
    .card h3{margin:0 0 10px; font-size:1rem; letter-spacing:.3px}

    /* signals */
    .signals{display:grid; gap:10px}
    .signal{display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center;
      background:var(--panel); border-radius:14px; padding:10px 12px; border:1px solid rgba(255,255,255,.05)}
    .sig-time{color:var(--sub); font-variant-numeric:tabular-nums}
    .sig-pair{font-weight:700}
    .badge{padding:6px 10px; border-radius:999px; font-weight:700; letter-spacing:.3px; font-size:.8rem}
    .BUY{background:rgba(0,255,174,.15); color:#a8ffdf; border:1px solid rgba(0,255,174,.45)}
    .SELL{background:rgba(255,77,109,.12); color:#ffb1bf; border:1px solid rgba(255,77,109,.45)}
    .HOLD{background:rgba(255,209,102,.12); color:#ffe3a7; border:1px solid rgba(255,209,102,.45)}

    /* side blocks */
    .side{display:grid; gap:16px}
    .mini{display:flex; align-items:center; justify-content:space-between; background:var(--panel);
      padding:14px; border-radius:14px; border:1px solid rgba(255,255,255,.05)}
    .big-num{font-size:1.6rem; font-weight:800}

    /* native ad box */
    .native{background:linear-gradient(180deg,#0c131b,#0a121a); border:1px dashed rgba(0,255,174,.25);}
    .native h4{margin:0 0 8px}
    .native ul{margin:0; padding-left:18px}

    /* sticky footer ad */
    .sticky-ad{position:fixed; inset:auto 0 0 0; background:rgba(10,18,26,.9); backdrop-filter:blur(6px); border-top:1px solid rgba(255,255,255,.06);
      display:flex; align-items:center; justify-content:center; padding:8px}
    .sticky-inner{width:min(980px,96%); height:60px; border-radius:12px; background:linear-gradient(180deg,var(--muted),#0b1118);
      border:1px dashed rgba(0,255,174,.25); display:grid; place-items:center}

    /* support + language */
    .toolbar{display:flex; gap:10px; align-items:center}
    .btn{background:linear-gradient(180deg,#092017,#04120e); color:var(--text); border:1px solid rgba(0,255,174,.35);
      padding:10px 14px; border-radius:12px; cursor:pointer; box-shadow:0 6px 18px rgba(0,255,174,.12)}
    select{background:#0a121a; color:var(--text); border:1px solid rgba(255,255,255,.1); padding:10px; border-radius:10px}

    /* modal */
    #supportModal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55)}
    #supportModal.show{display:grid}
    .modal-card{width:min(680px,94%); background:#0a1216; border:1px solid rgba(0,255,174,.25); border-radius:16px; padding:18px; box-shadow:var(--shadow)}
    .form-row{display:grid; gap:8px; margin:10px 0}
    label{color:var(--sub); font-size:.9rem}
    input, textarea{background:#0b1218; color:var(--text); border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:10px}
    textarea{min-height:120px}
    .row-actions{display:flex; gap:10px; justify-content:flex-end}
    .hidden{display:none}
    .ok{color:var(--ok)} .err{color:var(--danger)}

    /* ad placeholders note */
    .ad-note{color:#71fcd3; font-size:.85rem; opacity:.85}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo"><span>XT</span></div>
        <div>
          <div class="title">X TRADER ‚Äî Segnali Crypto in tempo reale</div>
          <div class="subtitle">Aggiornamento sincronizzato ai minuti 00¬∑05¬∑10¬∑15‚Ä¶ ‚Äî BTCUSDC (multi‚Äëmodello AI)</div>
        </div>
      </div>
      <div>
        <div class="toolbar" style="justify-content:flex-end">
          <select id="langSelect" aria-label="Language">
            <option value="it">Italiano</option>
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="fr">Fran√ßais</option>
            <option value="de">Deutsch</option>
          </select>
          <button id="openSupport" class="btn">üí¨ Supporto</button>
        </div>
        <div class="ad-728" id="ad-top">
          <!-- Adsterra 728x90 placement -->
          <small>728√ó90 ‚Äî Slot pubblicitario (Adsterra). Inserisci lo script del tuo placement qui.</small>
        </div>
      </div>
    </header>

    <!-- Main grid -->
    <div class="grid">
      <!-- Signals column -->
      <section class="card">
        <h3>üì° Segnali live</h3>
        <div id="signals" class="signals">
          <!-- le righe segnale verranno aggiunte via JS -->
        </div>
        <div class="mini" style="margin-top:12px">
          <div>‚è±Ô∏è Prossimo segnale tra <strong id="countdown">--:--</strong></div>
          <div>üéØ Accuracy 7g: <strong id="acc7">‚Äî</strong></div>
        </div>
      </section>

      <!-- History + Native Ad -->
      <section class="side">
        <div class="card">
          <h3>üßæ Storico rapido</h3>
          <div id="history" class="signals"></div>
        </div>
        <div class="card native">
          <h3>üî• Consigli sponsorizzati</h3>
          <div class="ad-note">Widget nativo (Adsterra/affiliazioni). Mantiene coerenza visuale.</div>
          <div id="native-ad" style="margin-top:8px">
            <!-- Inserisci qui il widget/iframe nativo -->
          </div>
        </div>
      </section>

      <!-- Crypto radar + side ad -->
      <section class="side">
        <div class="card">
          <h3>üìà Crypto Radar</h3>
          <div class="mini"><span>Prezzo BTCUSDC</span> <span class="big-num" id="price">‚Äî</span></div>
          <div class="mini"><span>Œî 5m</span> <span id="chg5">‚Äî</span></div>
          <div class="mini"><span>Œî 1h</span> <span id="chg1h">‚Äî</span></div>
          <div class="mini"><span>Œî 24h</span> <span id="chg24">‚Äî</span></div>
        </div>
        <div class="card" style="min-height:200px; display:grid; place-items:center">
          <!-- Side ad placement -->
          <div style="width:300px; height:250px; border-radius:12px; border:1px dashed rgba(0,255,174,.25); display:grid; place-items:center">
            <small class="ad-note">300√ó250 ‚Äî Slot laterale (Adsterra)</small>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- Sticky footer ad -->
  <div class="sticky-ad" id="sticky-ad">
    <div class="sticky-inner">
      <small class="ad-note">Sticky 970√ó60/320√ó50 ‚Äî Footer mobile/desktop (Adsterra)</small>
    </div>
  </div>

  <!-- Support modal -->
  <div id="supportModal">
    <div class="modal-card">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:6px">
        <strong id="s_title">Contatta il supporto</strong>
        <button id="closeSupport" class="btn" style="padding:6px 10px">‚úñ</button>
      </div>
      <form name="support" method="POST" data-netlify="true" netlify-honeypot="bot-field">
        <input type="hidden" name="form-name" value="support" />
        <p class="hidden"><label>Don‚Äôt fill this out if you‚Äôre human: <input name="bot-field" /></label></p>

        <div class="form-row">
          <label for="s_name" id="s_name_lbl">Il tuo nome</label>
          <input id="s_name" name="name" autocomplete="name" />
        </div>
        <div class="form-row">
          <label for="s_email" id="s_email_lbl">La tua email</label>
          <input id="s_email" name="email" type="email" autocomplete="email" />
        </div>
        <div class="form-row">
          <label for="s_msg" id="s_msg_lbl">Messaggio</label>
          <textarea id="s_msg" name="message"></textarea>
        </div>
        <div class="form-row" style="display:flex; gap:10px; align-items:center">
          <input type="checkbox" id="s_consent" />
          <label for="s_consent" id="s_consent_lbl">Acconsento ad essere contattato all'email indicata.</label>
        </div>
        <div class="row-actions">
          <button id="s_cancel" class="btn" type="button">Annulla</button>
          <button id="s_send" class="btn">Invia</button>
        </div>
        <div id="s_error" class="err hidden" aria-live="polite"></div>
        <div id="s_ok" class="ok hidden" aria-live="polite"></div>
      </form>
    </div>
  </div>

  <!-- Countdown & demo data + light helpers (no external deps) -->
  <script>
    // Countdown sincronizzato ai multipli di 5 minuti
    const countdownEl = document.getElementById('countdown');
    function next5MinDate(){
      const d = new Date();
      const m = d.getMinutes();
      const add = 5 - (m % 5 || 5);
      d.setSeconds(0,0);
      d.setMinutes(m + add);
      return d;
    }
    let target = next5MinDate();
    function tick(){
      const now = new Date();
      if(now >= target){ target = next5MinDate(); }
      const ms = target - now;
      const s = Math.max(0, Math.floor(ms/1000));
      const mm = String(Math.floor(s/60)).padStart(2,'0');
      const ss = String(s%60).padStart(2,'0');
      countdownEl.textContent = mm+":"+ss;
      requestAnimationFrame(() => setTimeout(tick, 250));
    }
    tick();

    // Demo: append finti segnali per preview UI (sostituisci con i tuoi fetch)
    const signalsEl = document.getElementById('signals');
    const historyEl = document.getElementById('history');
    function addSignal(ts, pair, action){
      const row = document.createElement('div');
      row.className = 'signal';
      row.innerHTML = `<span class="sig-time">${ts}</span><span class="sig-pair">${pair}</span><span class="badge ${action}">${action}</span>`;
      signalsEl.prepend(row);
      const hist = row.cloneNode(true); historyEl.prepend(hist);
    }
    // iniziali
    ['19:10','19:15','19:20','19:25'].forEach((t,i)=>{
      const acts=['BUY','HOLD','SELL','HOLD'];
      addSignal(`${t}:04`, 'BTCUSDC', acts[i]);
    });

    // Accuracy demo
    document.getElementById('acc7').textContent = '92%';

    // Radar demo numeri
    const priceEl = document.getElementById('price');
    const chg5 = document.getElementById('chg5');
    const chg1h = document.getElementById('chg1h');
    const chg24 = document.getElementById('chg24');
    function demoPrice(){
      const v = (42000 + Math.random()*200).toFixed(2);
      priceEl.textContent = v;
      chg5.textContent = ((Math.random()*0.4-0.2).toFixed(2))+'%';
      chg1h.textContent = ((Math.random()*1-0.5).toFixed(2))+'%';
      chg24.textContent = ((Math.random()*3-1.5).toFixed(2))+'%';
    }
    demoPrice(); setInterval(demoPrice, 4000);
  </script>

  <!-- *** NON MODIFICARE: script di supporto fornito dall'utente *** -->
  <script>
(function(){
  // Lingua dal selettore esistente
  const sel = document.getElementById('langSelect');
  const getLang = () => (sel && sel.value ? sel.value : (navigator.language || 'en')).toLowerCase();

  // 40 lingue (chiavi minime per il form)
  const T = {
    "en":{title:"Contact support",name:"Your name",email:"Your email",message:"Message",consent:"I agree to be contacted via the email provided.",send:"Send",cancel:"Cancel",okTitle:"Sent!",ok:"Thanks ‚Äî we'll reply soon.",err:"Please fill all fields and accept the consent."},
    "it":{title:"Contatta il supporto",name:"Il tuo nome",email:"La tua email",message:"Messaggio",consent:"Acconsento ad essere contattato all'email indicata.",send:"Invia",cancel:"Annulla",okTitle:"Inviato!",ok:"Grazie ‚Äî ti risponderemo a breve.",err:"Compila tutti i campi e accetta il consenso."},
    "es":{title:"Contactar soporte",name:"Tu nombre",email:"Tu correo",message:"Mensaje",consent:"Acepto ser contactado por el correo proporcionado.",send:"Enviar",cancel:"Cancelar",okTitle:"¬°Enviado!",ok:"Gracias ‚Äî responderemos pronto.",err:"Completa todos los campos y acepta el consentimiento."},
    "fr":{title:"Contacter l'assistance",name:"Votre nom",email:"Votre e-mail",message:"Message",consent:"J'accepte d'√™tre contact√© √† l'e-mail fourni.",send:"Envoyer",cancel:"Annuler",okTitle:"Envoy√© !",ok:"Merci ‚Äî nous vous r√©pondrons bient√¥t.",err:"Veuillez remplir tous les champs et accepter le consentement."},
    "de":{title:"Support kontaktieren",name:"Dein Name",email:"Deine E-Mail",message:"Nachricht",consent:"Ich stimme zu, per angegebener E-Mail kontaktiert zu werden.",send:"Senden",cancel:"Abbrechen",okTitle:"Gesendet!",ok:"Danke ‚Äî wir melden uns bald.",err:"Bitte alle Felder ausf√ºllen und zustimmen."},
    "pt":{title:"Contactar suporte",name:"Seu nome",email:"Seu e-mail",message:"Mensagem",consent:"Concordo em ser contatado pelo e-mail informado.",send:"Enviar",cancel:"Cancelar",okTitle:"Enviado!",ok:"Obrigado ‚Äî responderemos em breve.",err:"Preencha todos os campos e aceite o consentimento."},
    "pt-br":{title:"Falar com o suporte",name:"Seu nome",email:"Seu e-mail",message:"Mensagem",consent:"Concordo em ser contatado pelo e-mail informado.",send:"Cancelar",cancel:"Cancelar",okTitle:"Enviado!",ok:"Valeu ‚Äî responderemos em breve.",err:"Preencha todos os campos e aceite o consentimento."},
    "ru":{title:"–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π",name:"–í–∞—à–µ –∏–º—è",email:"–í–∞—à e-mail",message:"–°–æ–æ–±—â–µ–Ω–∏–µ",consent:"–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ —Å–≤—è–∑—å –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ—á—Ç–µ.",send:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å",cancel:"–û—Ç–º–µ–Ω–∞",okTitle:"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!",ok:"–°–ø–∞—Å–∏–±–æ ‚Äî –æ—Ç–≤–µ—Ç–∏–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.",err:"–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –¥–∞–π—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ."},
    "uk":{title:"–ó–≤'—è–∑–∞—Ç–∏—Å—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é",name:"–í–∞—à–µ —ñ–º'—è",email:"–í–∞—à e-mail",message:"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",consent:"–ü–æ–≥–æ–¥–∂—É—é—Å—è –Ω–∞ –∑–≤'—è–∑–æ–∫ –∑–∞ –≤–∫–∞–∑–∞–Ω–æ—é –ø–æ—à—Ç–æ—é.",send:"–ù–∞–¥—ñ—Å–ª–∞—Ç–∏",cancel:"–°–∫–∞—Å—É–≤–∞—Ç–∏",okTitle:"–ù–∞–¥—ñ—Å–ª–∞–Ω–æ!",ok:"–î—è–∫—É—î–º–æ ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–º–æ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.",err:"–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è —Ç–∞ –ø—Ä–∏–π–º—ñ—Ç—å –∑–≥–æ–¥—É."},
    "pl":{title:"Kontakt z pomocƒÖ",name:"Twoje imiƒô",email:"Tw√≥j e-mail",message:"Wiadomo≈õƒá",consent:"Zgadzam siƒô na kontakt na podany e-mail.",send:"Wy≈õlij",cancel:"Anuluj",okTitle:"Wys≈Çano!",ok:"Dziƒôkujemy ‚Äî odpiszemy wkr√≥tce.",err:"Uzupe≈Çnij wszystkie pola i zaakceptuj zgodƒô."},
    "nl":{title:"Contact met support",name:"Je naam",email:"Je e-mail",message:"Bericht",consent:"Ik ga akkoord om via e-mail te worden gecontacteerd.",send:"Versturen",cancel:"Annuleren",okTitle:"Verzonden!",ok:"Bedankt ‚Äî we reageren snel.",err:"Vul alle velden in en ga akkoord met de toestemming."},
    "sv":{title:"Kontakta support",name:"Ditt namn",email:"Din e-post",message:"Meddelande",consent:"Jag samtycker till kontakt via angiven e-post.",send:"Skicka",cancel:"Avbryt",okTitle:"Skickat!",ok:"Tack ‚Äî vi h√∂r av oss snart.",err:"Fyll i alla f√§lt och godk√§nn samtycket."},
    "no":{title:"Kontakt support",name:"Ditt navn",email:"Din e-post",message:"Melding",consent:"Jeg samtykker til √• bli kontaktet p√• e-posten.",send:"Send",cancel:"Avbryt",okTitle:"Sendt!",ok:"Takk ‚Äî vi svarer snart.",err:"Fyll ut alle felt og godta samtykke."},
    "da":{title:"Kontakt support",name:"Dit navn",email:"Din e-mail",message:"Besked",consent:"Jeg accepterer at blive kontaktet via e-mail.",send:"Send",cancel:"Annull√©r",okTitle:"Sendt!",ok:"Tak ‚Äî vi vender snart tilbage.",err:"Udfyld alle felter og accepter samtykke."},
    "fi":{title:"Ota yhteytt√§ tukeen",name:"Nimesi",email:"S√§hk√∂postisi",message:"Viesti",consent:"Hyv√§ksyn yhteydenoton s√§hk√∂postitse.",send:"L√§het√§",cancel:"Peruuta",okTitle:"L√§hetetty!",ok:"Kiitos ‚Äî vastaamme pian.",err:"T√§yt√§ kaikki kent√§t ja hyv√§ksy suostumus."},
    "tr":{title:"Destekle ileti≈üime ge√ß",name:"Adƒ±n",email:"E-postan",message:"Mesaj",consent:"Belirttiƒüim e-posta √ºzerinden ileti≈üime ge√ßilmesine izin veriyorum.",send:"G√∂nder",cancel:"ƒ∞ptal",okTitle:"G√∂nderildi!",ok:"Te≈üekk√ºrler ‚Äî yakƒ±nda yanƒ±t vereceƒüiz.",err:"T√ºm alanlarƒ± doldur ve onayƒ± kabul et."},
    "el":{title:"ŒïœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒØŒ± ŒºŒµ œÖœÄŒøœÉœÑŒÆœÅŒπŒæŒ∑",name:"Œ§Œø œåŒΩŒøŒºŒ¨ œÉŒøœÖ",email:"Œ§Œø e-mail œÉŒøœÖ",message:"ŒúŒÆŒΩœÖŒºŒ±",consent:"Œ£œÖŒºœÜœâŒΩœé ŒΩŒ± ŒµœÄŒπŒ∫ŒøŒπŒΩœâŒΩŒÆœÉŒøœÖŒΩ ŒºŒ±Œ∂ŒØ ŒºŒøœÖ œÉœÑŒø e-mail.",send:"ŒëœÄŒøœÉœÑŒøŒªŒÆ",cancel:"ŒëŒ∫œçœÅœâœÉŒ∑",okTitle:"ŒïœÉœÑŒ¨ŒªŒ∑!",ok:"ŒïœÖœáŒ±œÅŒπœÉœÑŒøœçŒºŒµ ‚Äî Œ∏Œ± Œ±œÄŒ±ŒΩœÑŒÆœÉŒøœÖŒºŒµ œÉœçŒΩœÑŒøŒºŒ±.",err:"Œ£œÖŒºœÄŒªŒÆœÅœâœÉŒµ œåŒªŒ± œÑŒ± œÄŒµŒ¥ŒØŒ± Œ∫Œ±Œπ Œ±œÄŒøŒ¥Œ≠ŒæŒøœÖ œÑŒ∑ œÉœÖŒ≥Œ∫Œ±œÑŒ¨Œ∏ŒµœÉŒ∑."},
    "cs":{title:"Kontaktovat podporu",name:"Tv√© jm√©no",email:"Tv≈Øj e-mail",message:"Zpr√°va",consent:"Souhlas√≠m s kontaktov√°n√≠m na uveden√Ω e-mail.",send:"Odeslat",cancel:"Zru≈°it",okTitle:"Odesl√°no!",ok:"D√≠ky ‚Äî brzy odpov√≠me.",err:"Vypl≈à v≈°echna pole a p≈ôijmi souhlas."},
    "sk":{title:"Kontaktova≈• podporu",name:"Tvoje meno",email:"Tvoj e-mail",message:"Spr√°va",consent:"S√∫hlas√≠m s kontaktovan√≠m na e-mail.",send:"Odosla≈•",cancel:"Zru≈°i≈•",okTitle:"Odoslan√©!",ok:"ƒéakujeme ‚Äî ƒçoskoro odpovieme.",err:"Vypl≈à v≈°etky polia a ods√∫hlas s√∫hlas."},
    "hu":{title:"Kapcsolatfelv√©tel t√°mogat√°ssal",name:"Neved",email:"E-mailed",message:"√úzenet",consent:"Hozz√°j√°rulok az e-mailes megkeres√©shez.",send:"K√ºld√©s",cancel:"M√©gse",okTitle:"Elk√ºldve!",ok:"K√∂sz√∂nj√ºk ‚Äî hamarosan v√°laszolunk.",err:"T√∂ltsd ki az √∂sszes mez≈ët √©s fogadd el a hozz√°j√°rul√°st."},
    "ro":{title:"ContacteazƒÉ suportul",name:"Numele tƒÉu",email:"Emailul tƒÉu",message:"Mesaj",consent:"Sunt de acord sƒÉ fiu contactat pe emailul furnizat.",send:"Trimite",cancel:"AnuleazƒÉ",okTitle:"Trimis!",ok:"Mul»õumim ‚Äî revenim cur√¢nd.",err:"CompleteazƒÉ toate c√¢mpurile »ôi acceptƒÉ consim»õƒÉm√¢ntul."},
    "bg":{title:"–°–≤—ä—Ä–∂–∏ —Å–µ —Å –ø–æ–¥–¥—Ä—ä–∂–∫–∞",name:"–¢–≤–æ–µ—Ç–æ –∏–º–µ",email:"–¢–≤–æ—è—Ç e-mail",message:"–°—ä–æ–±—â–µ–Ω–∏–µ",consent:"–°—ä–≥–ª–∞—Å–µ–Ω/–Ω–∞ —Å—ä–º –¥–∞ –±—ä–¥–∞ –ø–æ—Ç—ä—Ä—Å–µ–Ω/–∞ –ø–æ e-mail.",send:"–ò–∑–ø—Ä–∞—Ç–∏",cancel:"–û—Ç–∫–∞–∂–∏",okTitle:"–ò–∑–ø—Ä–∞—Ç–µ–Ω–æ!",ok:"–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º ‚Äî —Å–∫–æ—Ä–æ —â–µ –æ—Ç–≥–æ–≤–æ—Ä–∏–º.",err:"–ü–æ–ø—ä–ª–Ω–∏ –≤—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞ –∏ –ø—Ä–∏–µ–º–∏ —Å—ä–≥–ª–∞—Å–∏–µ—Ç–æ."},
    "sr":{title:"–ö–æ–Ω—Ç–∞–∫—Ç –ø–æ–¥—Ä—à–∫–∞",name:"–¢–≤–æ—ò–µ –∏–º–µ",email:"–¢–≤–æ—ò –µ-–º–µ—ò–ª",message:"–ü–æ—Ä—É–∫–∞",consent:"–ü—Ä–∏—Ö–≤–∞—Ç–∞–º –∫–æ–Ω—Ç–∞–∫—Ç –Ω–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏ –µ-–º–µ—ò–ª.",send:"–ü–æ—à–∞—ô–∏",cancel:"–û—Ç–∫–∞–∂–∏",okTitle:"–ü–æ—Å–ª–∞—Ç–æ!",ok:"–•–≤–∞–ª–∞ ‚Äî —É—Å–∫–æ—Ä–æ –æ–¥–≥–æ–≤–∞—Ä–∞–º–æ.",err:"–ü–æ–ø—É–Ω–∏ —Å–≤–∞ –ø–æ—ô–∞ –∏ –ø—Ä–∏—Ö–≤–∞—Ç–∏ —Å–∞–≥–ª–∞—Å–Ω–æ—Å—Ç."},
    "hr":{title:"Kontaktiraj podr≈°ku",name:"Tvoje ime",email:"Tvoj e-mail",message:"Poruka",consent:"Sla≈æem se na kontakt putem e-po≈°te.",send:"Po≈°alji",cancel:"Odustani",okTitle:"Poslano!",ok:"Hvala ‚Äî ubrzo odgovaramo.",err:"Ispuni sva polja i prihvati privolu."},
    "sl":{title:"Kontaktiraj podporo",name:"Tvoje ime",email:"Tvoj e-po≈°tni naslov",message:"Sporoƒçilo",consent:"Strinjam se s stikom prek navedenega e-po≈°tnega naslova.",send:"Po≈°lji",cancel:"Prekliƒçi",okTitle:"Poslano!",ok:"Hvala ‚Äî kmalu odgovorimo.",err:"Izpolni vsa polja in sprejmi soglasje."},
    "he":{title:"◊¶◊ï◊® ◊ß◊©◊® ◊¢◊ù ◊î◊™◊û◊ô◊õ◊î",name:"◊î◊©◊ù ◊©◊ú◊ö",email:"◊î◊ê◊ô◊û◊ô◊ô◊ú ◊©◊ú◊ö",message:"◊î◊ï◊ì◊¢◊î",consent:"◊ê◊†◊ô ◊û◊°◊õ◊ô◊ù/◊î ◊©◊ô◊¶◊®◊ï ◊ê◊ô◊™◊ô ◊ß◊©◊® ◊ú◊û◊ô◊ô◊ú ◊©◊°◊ô◊§◊ß◊™◊ô.",send:"◊©◊ú◊ó",cancel:"◊ë◊ô◊ò◊ï◊ú",okTitle:"◊†◊©◊ú◊ó!",ok:"◊™◊ï◊ì◊î ‚Äî ◊†◊ó◊ñ◊ï◊® ◊ê◊ú◊ô◊ö ◊ë◊ß◊®◊ï◊ë.",err:"◊û◊ú◊ê/◊ô ◊ê◊™ ◊õ◊ú ◊î◊©◊ì◊ï◊™ ◊ï◊ê◊©◊®/◊ô ◊î◊°◊õ◊û◊î."},
    "ar":{title:"ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿØÿπŸÖ",name:"ÿßÿ≥ŸÖŸÉ",email:"ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",message:"ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©",consent:"ÿ£ŸàÿßŸÅŸÇ ÿπŸÑŸâ ÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸä ÿπÿ®ÿ± ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑŸÖÿ∞ŸÉŸàÿ±.",send:"ÿ•ÿ±ÿ≥ÿßŸÑ",cancel:"ÿ•ŸÑÿ∫ÿßÿ°",okTitle:"ÿ™ŸÖ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ!",ok:"ÿ¥ŸÉÿ±Ÿãÿß ‚Äî ÿ≥ŸÜÿ±ÿØ ŸÇÿ±Ÿäÿ®Ÿãÿß.",err:"ÿßŸÖŸÑÿ£ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÑ ŸàŸàÿßŸÅŸÇ ÿπŸÑŸâ ÿßŸÑÿ•ŸÇÿ±ÿßÿ±."},
    "fa":{title:"ÿßÿ±ÿ™ÿ®ÿßÿ∑ ÿ®ÿß Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å",name:"ŸÜÿßŸÖ ÿ¥ŸÖÿß",email:"ÿß€åŸÖ€åŸÑ ÿ¥ŸÖÿß",message:"Ÿæ€åÿßŸÖ",consent:"ŸÖŸàÿßŸÅŸÇÿ™ ŸÖ€å‚ÄåÿØŸáŸÖ ÿßÿ≤ ÿ∑ÿ±€åŸÇ ÿß€åŸÖ€åŸÑ ÿØÿ±ÿ¨‚Äåÿ¥ÿØŸá ÿ®ÿß ŸÖŸÜ ÿ™ŸÖÿßÿ≥ ÿ®⁄Ø€åÿ±ŸÜÿØ.",send:"ÿßÿ±ÿ≥ÿßŸÑ",cancel:"ŸÑÿ∫Ÿà",okTitle:"ÿßÿ±ÿ≥ÿßŸÑ ÿ¥ÿØ!",ok:"ŸÖÿ™ÿ¥⁄©ÿ±ŸÖ ‚Äî ÿ®Ÿá‚Äåÿ≤ŸàÿØ€å Ÿæÿßÿ≥ÿÆ ŸÖ€å‚ÄåÿØŸá€åŸÖ.",err:"ŸáŸÖŸá ŸÅ€åŸÑÿØŸáÿß ÿ±ÿß Ÿæÿ± ⁄©ÿ±ÿØŸá Ÿà ÿ±ÿ∂ÿß€åÿ™ ÿ±ÿß ÿ®Ÿæÿ∞€åÿ±€åÿØ."},
    "hi":{title:"‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï",name:"‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ",email:"‡§Ü‡§™‡§ï‡§æ ‡§à-‡§Æ‡•á‡§≤",message:"‡§∏‡§Ç‡§¶‡•á‡§∂",consent:"‡§Æ‡•à‡§Ç ‡§¶‡§ø‡§è ‡§à-‡§Æ‡•á‡§≤ ‡§™‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§π‡§Æ‡§§ ‡§π‡•Ç‡§Å‡•§",send:"‡§≠‡•á‡§ú‡•á‡§Ç",cancel:"‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç",okTitle:"‡§≠‡•á‡§ú ‡§¶‡§ø‡§Ø‡§æ!",ok:"‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶ ‚Äî ‡§π‡§Æ ‡§ú‡§≤‡•ç‡§¶ ‡§ú‡§µ‡§æ‡§¨ ‡§¶‡•á‡§Ç‡§ó‡•á‡•§",err:"‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§∏‡§π‡§Æ‡§§‡§ø ‡§¶‡•á‡§Ç‡•§"},
    "bn":{title:"‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó",name:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ",email:"‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á-‡¶Æ‡ßá‡¶á‡¶≤",message:"‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ",consent:"‡¶Ü‡¶Æ‡¶ø ‡¶™‡ßç‡¶∞‡¶¶‡¶§‡ßç‡¶§ ‡¶á-‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶§‡•§",send:"‡¶™‡¶æ‡¶†‡¶æ‡¶®",cancel:"‡¶¨‡¶æ‡¶§‡¶ø‡¶≤",okTitle:"‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!",ok:"‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‚Äî ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶¨‡•§",err:"‡¶∏‡¶¨ ‡¶ò‡¶∞ ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶§‡¶ø ‡¶¶‡¶ø‡¶®‡•§"},
    "ur":{title:"ÿ≥ŸæŸàÿ±Ÿπ ÿ≥€í ÿ±ÿßÿ®ÿ∑€Å",name:"ÿ¢Ÿæ ⁄©ÿß ŸÜÿßŸÖ",email:"ÿ¢Ÿæ ⁄©€å ÿß€å ŸÖ€åŸÑ",message:"Ÿæ€åÿ∫ÿßŸÖ",consent:"ŸÖ€å⁄∫ ÿØ€å ⁄Øÿ¶€å ÿß€å ŸÖ€åŸÑ Ÿæÿ± ÿ±ÿßÿ®ÿ∑€í ⁄©€å ÿßÿ¨ÿßÿ≤ÿ™ ÿØ€åÿ™ÿß/ÿØ€åÿ™€å €ÅŸà⁄∫€î",send:"ÿ®⁄æ€åÿ¨€å⁄∫",cancel:"ŸÖŸÜÿ≥ŸàÿÆ",okTitle:"ÿ®⁄æ€åÿ¨ ÿØ€åÿß!",ok:"ÿ¥⁄©ÿ±€å€Å ‚Äî €ÅŸÖ ÿ¨ŸÑÿØ ÿ¨Ÿàÿßÿ® ÿØ€å⁄∫ ⁄Ø€í€î",err:"ÿ™ŸÖÿßŸÖ ŸÅ€åŸÑ⁄àÿ≤ ŸæŸèÿ± ⁄©ÿ±€å⁄∫ ÿßŸàÿ± ÿ±ÿ∂ÿßŸÖŸÜÿØ€å ÿØ€å⁄∫€î"},
    "zh-cn":{title:"ËÅîÁ≥ªÊîØÊåÅ",name:"ÊÇ®ÁöÑÂßìÂêç",email:"ÊÇ®ÁöÑÈÇÆÁÆ±",message:"ÁïôË®Ä",consent:"ÊàëÂêåÊÑèÈÄöËøáÊâÄÊèê‰æõÈÇÆÁÆ±ËÅîÁ≥ªÊàë„ÄÇ",send:"ÂèëÈÄÅ",cancel:"ÂèñÊ∂à",okTitle:"Â∑≤ÂèëÈÄÅÔºÅ",ok:"ÊÑüË∞¢‚ÄîweÂ∞ÜÂ∞ΩÂø´ÂõûÂ§ç„ÄÇ",err:"ËØ∑Â°´ÂÜôÊâÄÊúâÂ≠óÊÆµÂπ∂ÂãæÈÄâÂêåÊÑè„ÄÇ"},
    "zh-tw":{title:"ËÅØÁµ°ÊîØÊè¥",name:"ÊÇ®ÁöÑÂßìÂêç",email:"ÊÇ®ÁöÑ‰ø°ÁÆ±",message:"Ë®äÊÅØ",consent:"ÊàëÂêåÊÑèÈÄèÈÅéÊèê‰æõÁöÑ‰ø°ÁÆ±ËÅØÁµ°Êàë„ÄÇ",send:"ÈÄÅÂá∫",cancel:"ÂèñÊ∂à",okTitle:"Â∑≤ÈÄÅÂá∫ÔºÅ",ok:"ÊÑüË¨ù‚ÄîweÂ∞áÁõ°Âø´ÂõûË¶Ü„ÄÇ",err:"Ë´ãÂ°´ÂØ´ÊâÄÊúâÊ¨Ñ‰Ωç‰∏¶ÂãæÈÅ∏ÂêåÊÑè„ÄÇ"},
    "ja":{title:"„Çµ„Éù„Éº„Éà„Å∏ÈÄ£Áµ°",name:"„ÅäÂêçÂâç",email:"„É°„Éº„É´",message:"„É°„ÉÉ„Çª„Éº„Ç∏",consent:"Ë®òËºâ„ÅÆ„É°„Éº„É´ÂÆõ„Å´ÈÄ£Áµ°„Åô„Çã„Åì„Å®„Å´ÂêåÊÑè„Åó„Åæ„Åô„ÄÇ",send:"ÈÄÅ‰ø°",cancel:"„Ç≠„É£„É≥„Çª„É´",okTitle:"ÈÄÅ‰ø°ÂÆå‰∫ÜÔºÅ",ok:"„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÇËøΩ„Å£„Å¶„ÅîÈÄ£Áµ°„Åó„Åæ„Åô„ÄÇ",err:"ÂÖ®È†ÖÁõÆ„ÇíÂÖ•Âäõ„Åó„ÄÅÂêåÊÑè„Å´„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ"},
    "ko":{title:"Í≥†Í∞ù ÏßÄÏõê Î¨∏Ïùò",name:"Ïù¥Î¶Ñ",email:"Ïù¥Î©îÏùº",message:"Î©îÏãúÏßÄ",consent:"Ï†úÍ≥µÎêú Ïù¥Î©îÏùºÎ°ú Ïó∞ÎùΩÎ∞õÎäî Í≤ÉÏóê ÎèôÏùòÌï©ÎãàÎã§.",send:"Î≥¥ÎÇ¥Í∏∞",cancel:"Ï∑®ÏÜå",okTitle:"Ï†ÑÏÜ° ÏôÑÎ£å!",ok:"Í∞êÏÇ¨Ìï©ÎãàÎã§ ‚Äî Í≥ß ÌöåÏã†ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.",err:"Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•ÌïòÍ≥† ÎèôÏùòÏóê Ï≤¥ÌÅ¨ÌïòÏÑ∏Ïöî."},
    "th":{title:"‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ù‡πà‡∏≤‡∏¢‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô",name:"‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",email:"‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",message:"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°",consent:"‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ",send:"‡∏™‡πà‡∏á",cancel:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å",okTitle:"‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß!",ok:"‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì ‚Äî ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ",err:"‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á"},
    "vi":{title:"Li√™n h·ªá h·ªó tr·ª£",name:"T√™n c·ªßa b·∫°n",email:"Email c·ªßa b·∫°n",message:"N·ªôi dung",consent:"T√¥i ƒë·ªìng √Ω ƒë∆∞·ª£c li√™n h·ªá qua email ƒë√£ cung c·∫•p.",send:"G·ª≠i",cancel:"H·ªßy",okTitle:"ƒê√£ g·ª≠i!",ok:"C·∫£m ∆°n ‚Äî ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi s·ªõm.",err:"Vui l√≤ng ƒëi·ªÅn ƒë·ªß v√† ch·∫•p thu·∫≠n."},
    "id":{title:"Hubungi dukungan",name:"Nama Anda",email:"Email Anda",message:"Pesan",consent:"Saya setuju dihubungi lewat email yang diberikan.",send:"Kirim",cancel:"Batal",okTitle:"Terkirim!",ok:"Terima kasih ‚Äî kami akan segera membalas.",err:"Isi semua kolom dan setujui persetujuan."},
    "ms":{title:"Hubungi sokongan",name:"Nama anda",email:"Emel anda",message:"Mesej",consent:"Saya setuju dihubungi melalui emel yang diberi.",send:"Hantar",cancel:"Batal",okTitle:"Dihantar!",ok:"Terima kasih ‚Äî kami akan balas segera.",err:"Sila isi semua medan dan setuju."},
    "fil":{title:"Makipag-ugnayan sa support",name:"Iyong pangalan",email:"Iyong email",message:"Mensahe",consent:"Sumasang-ayon akong kontakin sa ibinigay na email.",send:"Ipadala",cancel:"Kanselahin",okTitle:"Naipadala!",ok:"Salamat ‚Äî sasagot kami kaagad.",err:"Punan lahat ng fields at tanggapin ang pahintulot."}
  };
  const F = (k) => {
    let lang = getLang();
    if (!T[lang]) lang = lang.split('-')[0];
    if (!T[lang]) lang = 'en';
    return T[lang][k] || T['en'][k] || k;
  };

  // UI refs
  const modal = document.getElementById('supportModal');
  const openBtn = document.getElementById('openSupport');
  const closeBtn = document.getElementById('closeSupport');
  const sTitle = document.getElementById('s_title');
  const sNameLbl = document.getElementById('s_name_lbl');
  const sEmailLbl = document.getElementById('s_email_lbl');
  const sMsgLbl = document.getElementById('s_msg_lbl');
  const sConsentLbl = document.getElementById('s_consent_lbl');
  const sCancel = document.getElementById('s_cancel');
  const sSend = document.getElementById('s_send');
  const sErr = document.getElementById('s_error');
  const sOK = document.getElementById('s_ok');

  function applyI18n(){
    sTitle.textContent = F('title');
    sNameLbl.textContent = F('name');
    sEmailLbl.textContent = F('email');
    sMsgLbl.textContent = F('message');
    sConsentLbl.textContent = F('consent');
    sCancel.textContent = F('cancel');
    sSend.textContent = F('send');
  }

  openBtn?.addEventListener('click', (e)=>{ e.preventDefault(); applyI18n(); sErr.classList.add('hidden'); sOK.classList.add('hidden'); modal.classList.add('show'); });
  closeBtn?.addEventListener('click', ()=> modal.classList.remove('show'));
  sCancel?.addEventListener('click', (e)=>{ e.preventDefault(); modal.classList.remove('show'); });
  sel?.addEventListener('change', ()=>{ if (modal.classList.contains('show')) applyI18n(); });

  // helper: encode x-www-form-urlencoded
  function encode(data){
    return Object.keys(data).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(data[k])).join('&');
  }

  document.getElementById('s_send')?.addEventListener('click', async (e)=>{
    e.preventDefault();
    const name = document.getElementById('s_name').value.trim();
    const email = document.getElementById('s_email').value.trim();
    const msg = document.getElementById('s_msg').value.trim();
    const consent = document.getElementById('s_consent').checked;
    if (!name || !email || !msg || !consent) {
      sErr.textContent = F('err'); sErr.classList.remove('hidden'); sOK.classList.add('hidden'); return;
    }

    const payload = {
      "form-name":"support",
      "name": name,
      "email": email,
      "message": msg,
      "consent": "yes",
      "lang": getLang()
    };

    try{
      // invia a Netlify Forms
      const res = await fetch('/', {
        method: 'POST',
        headers: { 'Content-Type':'application/x-www-form-urlencoded' },
        body: encode(payload)
      });
      if (res.ok) {
        sOK.textContent = F('ok'); sOK.classList.remove('hidden'); sErr.classList.add('hidden');
        // reset campi
        document.getElementById('s_name').value='';
        document.getElementById('s_email').value='';
        document.getElementById('s_msg').value='';
        document.getElementById('s_consent').checked=false;
        // chiudi dopo poco
        setTimeout(()=> modal.classList.remove('show'), 1200);
      } else {
        sErr.textContent = 'Send error'; sErr.classList.remove('hidden'); sOK.classList.add('hidden');
      }
    } catch(err){
      sErr.textContent = 'Network error'; sErr.classList.remove('hidden'); sOK.classList.add('hidden');
    }
  });
})();
</script>
  <!-- *** FINE script fornito *** -->

</body>
</html>
